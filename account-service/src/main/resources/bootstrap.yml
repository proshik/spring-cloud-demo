spring:
  profiles: default
  application:
    name: account-service
    index: ${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}
  cloud:
    config:
      uri: ${CONFIG_SERVICE_HOST}:${CONFIG_SERVICE_PORT}
      username: ${CONFIG_SERVICE_USERNAME}
      password: ${CONFIG_SERVICE_PASSWORD}
      fail-fast: true
      retry:
        multiplier: 1.5
        initial-interval: 2000
        max-interval: 10000
      label: ${CONFIGURATION_ENVIRONMENT}

---
spring:
  profiles: dev
  application:
    name: account-service
    index: ${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}
  cloud:
    config:
      enabled: false
      discovery:
        enabled: false
    bus:
      env:
        enabled: false
  sleuth:
      enabled: false
      integration:
        enabled: false
  jpa:
    database: POSTGRESQL
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    show-sql: false
  database:
    driverClassName: org.postgresql.Driver
  datasource:
    url: jdbc:postgresql://localhost:5432/think_clearly_account
    username: postgres
    password: password
    initial-size: 5
    max-active: 100
    max-idle: 5
    test-on-borrow: true
    test-while-idle: true
    test-on-return: true
    min-idle: 2
    validation-query: select 1

liquibase:
  change-log: classpath:db-changelog.xml

server:
    port: 9020

logging:
  level:
    org.springframework: INFO
    org.hibernate.sql: INFO
    org.hibernate.type: INFO

eureka:
  client:
    enabled: false
ribbon:
  eureka:
    enabled: false
feign:
  hystrix:
    enabled: false


auth-service:
  ribbon:
    listOfServers: localhost:5000

security:
  oauth2:
    resource:
      user-info-uri: http://localhost:5000/uaa/users/current
    client:
      clientId: account-service
      clientSecret: password
      accessTokenUri: http://localhost:5000/uaa/oauth/token
      grant-type: client_credentials
      scope: server
  basic:
    enabled: false