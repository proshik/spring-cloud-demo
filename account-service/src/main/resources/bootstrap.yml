spring:
  profiles: default
  application:
    name: account-service
    index: ${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}
  cloud:
    config:
      uri: http://config:8888
      password: ${CONFIG_SERVICE_PASSWORD}
      username: user
      fail-fast: true
      retry:
        multiplier: 1.5
        initial-interval: 2000
        max-interval: 10000

---
spring:
  profiles: dev
  application:
    name: account-service
    index: ${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}
  cloud:
    config:
      enabled: false
      discovery:
        enabled: false
  jackson:
    date-format: com.fasterxml.jackson.databind.util.ISO8601DateFormat
  jpa:
    database: POSTGRESQL
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    show-sql: false
  database:
    driverClassName: org.postgresql.Driver
  datasource:
    url: jdbc:postgresql://localhost:5432/think_clearly_account
    username: postgres
    password: password
    initial-size: 5
    max-active: 100
    max-idle: 5
    test-on-borrow: true
    test-while-idle: true
    test-on-return: true
    min-idle: 2
    validation-query: select 1

liquibase:
  change-log: classpath:db-changelog.xml

server:
    port: 9020

logging:
  level:
#    org.hibernate.sql: DEBUG
    org.springframework: INFO
eureka:
  client:
    enabled: false
ribbon:
  eureka:
    enabled: false
feign:
  hystrix:
    enabled: false

#security:
#  basic:
#    enabled: false


auth-service:
  ribbon:
    listOfServers: localhost:5000

security:
  oauth2:
    resource:
      user-info-uri: http://localhost:5000/uaa/users/current
    client:
      clientId: account-service
      clientSecret: password
      accessTokenUri: http://localhost:5000/uaa/oauth/token
      grant-type: client_credentials
      scope: server