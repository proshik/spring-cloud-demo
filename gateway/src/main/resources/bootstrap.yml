spring:
  profiles: default
  application:
    name: gateway
    index: ${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}
  cloud:
    config:
      uri: http://config:8888
      password: ${CONFIG_SERVICE_PASSWORD}
      username: user
      fail-fast: true
      retry:
        multiplier: 1.5
        initial-interval: 2000
        max-interval: 10000

---
spring:
  profiles: dev
  application:
    name: gateway
    index: ${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}

server:
  port: 4000

zuul:
  routes:
    api-service:
      path: /**/api/**
      clientId: api-service
      stripPrefix: false

    account-service:
      path: /**/account/**
      clientId: account-service
      stripPrefix: false

    auth-service:
      path: /**/uaa/**
      clientId: auth-service
      stripPrefix: false

hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 10000

eureka:
  client:
    serviceUrl:
      defaultZone: http://registry:8761/eureka/
  instance:
    instanceId: ${spring.application.name}:${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}

logging:
  level:
    org.springframework: DEBUG
